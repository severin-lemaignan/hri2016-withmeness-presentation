\documentclass[compress]{beamer}

%--------------------------------------------------------------------------
% Common packages
%--------------------------------------------------------------------------
\usepackage[english]{babel}
\usepackage{pgfpages} % required for notes on second screen
\usepackage{graphicx}

\usepackage{multicol}

\usepackage{tabularx,ragged2e}
\usepackage{booktabs}

%--------------------------------------------------------------------------
% Load theme
%--------------------------------------------------------------------------
\usetheme{hri}

\usepackage{tikz}
\usetikzlibrary{calc,mindmap,backgrounds,positioning}

\graphicspath{{figs/}}

%--------------------------------------------------------------------------
% General presentation settings
%--------------------------------------------------------------------------
\title{From Attention to With-me-ness}
\subtitle{(what a lovely neologism)}
\date{\today}
\author{SÃ©verin Lemaignan}
\institute{Centre for Robotics and Neural Systems\\ {\Medium
Plymouth University}}

%--------------------------------------------------------------------------
% Notes settings
%--------------------------------------------------------------------------
%\setbeameroption{show notes on second screen}

\begin{document}

\licenseframe{https://github.com/severin-lemaignan/hri2016-withmeness-presentation}

\maketitle

\section{Attention tracking}

\imageframe{head_pose}
\imageframe[color=black]{head_pose_real_world}

\section{Experimental setup}

\imageframe[color=black]{realSetup}
\imageframe{experimental_setup}
\imageframe[color=black]{field_of_attention}

{\fullbackground[scale=0.95]{matches-excerpt}
    \begin{frame}{How accurate?}
        \vspace{5.4cm}
        \scriptsize
    \begin{tabular}{p{3.3cm}cccccccc}
        \toprule
        {\Medium Subject} & 1 & 2 & 3 & 4 & 5 & 6 & {\Medium M} & {\it SD} \\
        \midrule
        {\bf Head pose tracking} (\%) & 88.2 & 83.5 & 90.5 & 83.1 & 87.9 & 85.0 & {\Medium 86.4} & {\it 3.0} \\ 
        \midrule
        {\bf Agreement} (\%) & 58.9 & 67.1 & 79.2 & 48.3 & 65 & 77.1 & {\Medium 65.9} & {\it 11.5}\\
        {\bf Cohen's $\kappa$} & 0.48 & 0.56 & 0.68 & 0.26 & 0.47 & 0.68 & {\Medium 0.52} & {\it 0.16}\\
        \bottomrule
    \end{tabular}
    \end{frame}
}

\section{With-me-ness}

\begin{frame}[fragile]{}
\begin{pythoncode}

def withmeness(startime, endtime):

    withme_duration = expected_duration = 0
    dt = 0.1 #typically in sec
    t = starttime

    while t < endtime:
        task = task_at(t)
        expected_foci = expected_foci(task)
        focus = user_focus_at(t)

        if task and expected_foci and focus:
            if focus in expected_foci:
                withme_duration += dt

            expected_duration += dt

        t += dt

    return withme_duration / expected_duration

\end{pythoncode}

\end{frame}

\begin{frame}{Expected focus}

    \centering
    \python{def expected_foci(task)}?

    \uncover<2->{
        \begin{multicols}{2}
           \scriptsize 
           \begin{tabular}{p{2.5cm}p{2.5cm}}
            \toprule
            {\Medium Interaction Phase} & {\Medium Expected targets} \\
            \midrule
            Presentation & {\sf robot} \\ 
            \midrule
            Waiting for word & {\sf secondary tablet} \\ 
            \midrule
            Writing word & {\sf tablet}\newline {\sf robot} \\ 
            \midrule
            Waiting for feedback & {\sf tablet}\newline {\sf secondary tablet} \\ 
            \midrule
            Story telling & {\sf robot} \\ 
            \midrule
            Bye & {\sf robot} \\ 
            \bottomrule
        \end{tabular}

            \includegraphics[width=0.95\columnwidth]{experimental_setup}
        \end{multicols}
    }
    \uncover<3>{
        Resulting with-me-ness value {\Medium very sensitive to this mapping}\\
        With-me-ness is a {\Medium relative metric}!
    }
\end{frame}

\imageframe[scale=0.95]{with-me-ness}


\end{document}






